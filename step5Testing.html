<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>7 Steps towards Reproducible Research: Step 5 - Testing and Controls</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught." style="background-color: #FF4955; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link" style="color: #000">
            <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
            Pre-Alpha
          </a>
          <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/step5Testing.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      7 Steps towards Reproducible Research
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            7 Steps towards Reproducible Research
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="index.html">What are we going to learn today?</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  7 Steps towards Reproducible Research
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 68%" class="percentage">
    68%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 68%" aria-valuenow="68" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/step5Testing.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. What is Reproducible Research?</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="whydoesRRmatter.html">2. Why does Reproducibility matter?</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="introofRRthings.html">3. Introducing 7 Steps towards Reproducible Research</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="step1Folders.html">4. Step 1 - Planning to be organised</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="step2TidyFiles.html">5. Step 2 - Keeping your files Tidy and Organised</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="step3MethodStats.html">6. Step 3 - Methodology and Protocols</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="step4Doco.html">7. Step 4 - Documentation and writing it down</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        8. Step 5 - Testing and Controls
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#testing-for-validity-and-integrity">Testing for Validity and Integrity</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="step6Automate.html">9. Step 6 - Automation</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="step7PublishPIDReuse.html">10. Step 7 - Publishing, Persistent Identifiers and Preparing for Reuse</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="wrapup.html">11. Wrapping up</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="index.html">What are we going to learn today?</a></li><li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="step4Doco.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="step6Automate.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="step4Doco.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Step 4 -
        </a>
        <a class="chapter-link float-end" href="step6Automate.html" rel="next">
          Next: Step 6 - Automation... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Step 5 - Testing and Controls</h1>
        <p>Last updated on 2024-06-11 |
        
        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/step5Testing.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<section id="testing-for-validity-and-integrity"><h2 class="section-heading">Testing for Validity and Integrity<a class="anchor" aria-label="anchor" href="#testing-for-validity-and-integrity"></a>
</h2>
<hr class="half-width"><p>Unintended changes to datasets happen all the time. An added comma in
a sentence can throw out a line in a spreadsheet. Missing data can alter
a calculation. A broken link or download that didn’t complete properly
can short us of data without us realising.</p>
<p>But what can we do about this?</p>
<p>There are a few checks we can run to help identify when this has
happened.</p>
<ul><li><p>Is there the expected number of lines?</p></li>
<li><p>Are there the expected number of columns?</p></li>
<li><p>If you sort a column and find the unique entries, do those
entries make sense? For example, in a column that you’re expecting to
find months, is there the word “Monday” in it? If so, there may have
been some movement in your cells.</p></li>
<li><p>Do the calculations make sense? If you have a range of 1-100 for
an attribute, is the mean of that column an impossible number such as
254?</p></li>
<li><p>Does an analysis fail to run? If you look into it, there may be
an unexpected value, such as a letter where it was expecting a
number.</p></li>
</ul><p><a href="https://openrefine.org/" class="external-link">Open Refine</a> is a good tool for
inspecting your data.</p>
<p>Again, R and Python have real strengths here, to have a list of tests
you can run as often as you need. For example, R has a function called
‘head’ that prints the first 6 lines of any file, so you can do a visual
check of the data quickly.</p>
<div id="coding-resources-for-testing-the-integrity-of-data" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="coding-resources-for-testing-the-integrity-of-data" class="callout-inner">
<h3 class="callout-title">Coding Resources for testing the integrity of
data<a class="anchor" aria-label="anchor" href="#coding-resources-for-testing-the-integrity-of-data"></a>
</h3>
<div class="callout-content">
<ul><li><p><a href="https://github.com/ADACS-Australia/good-code-etiquette/blob/master/Testing.ipynb" class="external-link">Testing
for Python</a></p></li>
<li><p>The <a href="https://software-carpentry.org/lessons/" class="external-link">Carpentries
software programming courses</a> also run through some basic tests in
their workshops</p></li>
<li><p><a href="https://r-pkgs.org/testing-basics.html" class="external-link">Testing for
R</a></p></li>
<li><p><a href="https://the-turing-way.netlify.app/reproducible-research/code-quality/code-quality-robust" class="external-link">The
Turing Way</a> has a great tutorial on how to write robust
code.</p></li>
</ul></div>
</div>
</div>
<pre><code>{r child="files/DataSciCode.Rmd"}</code></pre>
<div id="microsoft-excel-changing-gene-names" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="microsoft-excel-changing-gene-names" class="callout-inner">
<h3 class="callout-title">Microsoft Excel changing Gene names<a class="anchor" aria-label="anchor" href="#microsoft-excel-changing-gene-names"></a>
</h3>
<div class="callout-content">
<p>As per the following paper: Ziemann, M., Eren, Y. &amp; El-Osta, A.
Gene name errors are widespread in the scientific literature. Genome
Biol 17, 177 (2016). <a href="https://doi.org/10.1186/s13059-016-1044-7" class="external-link uri">https://doi.org/10.1186/s13059-016-1044-7</a> licenced as
CC-BY 4.0</p>
<p>” The spreadsheet software Microsoft Excel, when used with default
settings, is known to convert gene names to dates and floating-point
numbers. A programmatic scan of leading genomics journals reveals that
approximately one-fifth of papers with supplementary Excel gene lists
contain erroneous gene name conversions.”</p>
<p>In a follow up story: Abeysooriya M, Soria M, Kasu MS, Ziemann M
(2021) Gene name errors: Lessons not learned. PLoS Comput Biol 17(7):
e1008984. <a href="https://doi.org/10.1371/journal.pcbi.1008984" class="external-link uri">https://doi.org/10.1371/journal.pcbi.1008984</a></p>
<p>“[The previous] article on this topic led the Human Gene Name
Consortium to change many of these gene names to be less susceptible to
autocorrect.”</p>
<p>To remedy this, there is now an option to turn off automatic data
conversion - but you need to be aware of it.</p>
<p>It was suggested to reviewers and editorial staff:</p>
<p>“the kind of errors we describe can be spotted by copying the column
of gene names and pasting it into a new sheet, and then sorting the
column. Any gene symbols converted to dates will appear as numbers at
the top of the column.”</p>
</div>
</div>
</div>

<div id="where-did-the-pizza-go-wrong" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="where-did-the-pizza-go-wrong" class="callout-inner">
<h3 class="callout-title">Where did the pizza go wrong?<a class="anchor" aria-label="anchor" href="#where-did-the-pizza-go-wrong"></a>
</h3>
<div class="callout-content">
<p>We’ve shared our pizza recipe with our friend, who attempted to cook
it last night. They’ve called you up today and said “It didn’t work out…
why?”</p>
<p>What questions can we ask to discover what could have gone wrong?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p><strong><em>Questions could include:</em></strong></p>
<p>Was it burnt? Or did the cheese not melt?</p>
<p>Is the base too thick/tough?</p>
<p>Does the ingredients taste ‘off’?</p>
</div>
</div>
</div>
</div>
<div id="where-did-the-pizza-go-wrong" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="where-did-the-pizza-go-wrong" class="callout-inner">
<h3 class="callout-title">Where did the pizza go wrong?<em>(continued)</em><a class="anchor" aria-label="anchor" href="#where-did-the-pizza-go-wrong"></a>
</h3>
<div class="callout-content">
<p>Now for each question, let’s develop a test. We want to offer a way
for our friend at each step to ‘test’ that their pizza is on the correct
track.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p><strong><em>Tests could include:</em></strong></p>
<p>Was the oven on 190 degrees celsius, for 20 minutes?</p>
<p>Did the cheese melt?</p>
<p>Did the dough double in size when it rose?</p>
<p>Were the ingredients still in their use by or due date?</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="physical-testing-and-quality-assurance">Physical Testing and Quality Assurance<a class="anchor" aria-label="anchor" href="#physical-testing-and-quality-assurance"></a></h3>
<p>Consider your ‘hardware’- the machines and devices you use in your
research. Are they callibrated? For your control samples, are you
getting the expected outcomes?</p>
<p>Consider your ‘consumables’ - Have your reagents gone out of date?
Stored and labelled correctly? Did your blood samples heat up during
transportation?</p>
<p><strong><em>Document how you have checked and accounted for Quality
Assurance</em></strong></p>
<div id="quality-assurance" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="quality-assurance" class="callout-inner">
<h3 class="callout-title">Quality Assurance<a class="anchor" aria-label="anchor" href="#quality-assurance"></a>
</h3>
<div class="callout-content">
<p><a href="https://doi.org/10.1038/529456a" class="external-link">Baker, M. How quality
control could save your science. Nature 529, 456–458 (2016).
https://doi.org/10.1038/529456a</a></p>
</div>
</div>
</div>
</div>
</section><div class="section level1">
<h1 id="providing-authenticity-and-validity">Providing Authenticity and Validity<a class="anchor" aria-label="anchor" href="#providing-authenticity-and-validity"></a></h1>
<div class="section level3">
<h3 id="data-lineage">Data lineage<a class="anchor" aria-label="anchor" href="#data-lineage"></a></h3>
<p>Data lineage considers the data origin, what happens to it, and where
it moves over time.</p>
<p>Consider your research data. What is its original source?</p>
<p>Did you obtain it through:</p>
<ul><li><p>Conducting a survey?</p></li>
<li><p>Work in the physical field (such as tree mapping or rock art
identification)?</p></li>
<li><p>From a collaborator?</p></li>
<li><p>Open dataset online?</p></li>
<li><p>A physical object (such as paintings)</p></li>
<li><p>A catalogue of images (such as satellite imagery)</p></li>
</ul><div id="discussion2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion2"></a>
</h3>
<div class="callout-content">
<p>If it is something you haven’t created from scratch, such as a trial
result or data collecting, have you noted where that source is?</p>
<p>Have you noted where your source obtained the information?</p>
<p>Your source may not be the data owner - who is?</p>
<p>What copyright and access limitations are on the data?</p>
<p>If you are using a repository that is regularly updated (satellite
images, weather patterns, government policies or legislations etc), have
you noted the version of the data?</p>
</div>
</div>
</div>
<p><strong><em>This is all useful information to include in your
documentation</em></strong></p>
<p>This may be a good time for a refresh of Step 1 - <a href="https://amandamiotto.github.io/ReproducibleResearch/instructor/step1Folders.html#metadata-of-your-files" class="external-link">Metadata
on your files</a></p>

<div id="discussion3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#discussion3"></a>
</h3>
<div class="callout-content">
<p>Pizza test</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="tracking-your-analysis-history">Tracking your Analysis history<a class="anchor" aria-label="anchor" href="#tracking-your-analysis-history"></a></h3>
<p>Now that we know where our raw data come from and how it was made,
let’s think about the changes we make to it.</p>
<p>Let’s start with data cleaning. Have you made a log of the changes
you have made?</p>
<p>Open Refine, NVIVO and SPSS all have logs of actions that you can
download and save.</p>
<ul><li><p>SPSS analysis pipeline comes as a .sps script file. You may see
it referenced as ‘Syntax’</p></li>
<li><p>SAS has a .sas file for pipelines</p></li>
<li><p>STATA has a .do file for pipelines. You may see it referenced as
‘commandlog’</p></li>
</ul><p>This is also where R and Python have huge strengths. Writing an R or
Python script enables you to rerun with certainty the same analysis
every time.</p>

<!-- Got any organisation information on where to learn R or Python? Does your institute run carpentries training or data science help? Include it below. -->
<p>Introductory training from The University of Sheffield for learning R
can be found here: <a href="https://www.sheffield.ac.uk/mash/stats-resources/r" class="external-link uri">https://www.sheffield.ac.uk/mash/stats-resources/r</a></p>
<p>Additionally, the Research Software Engineering Team collaborates
with researchers over all areas of University of Sheffield research, and
is a hub for the RSE community. You can find information on trainings,
support and workshops here: <a href="https://rse.shef.ac.uk/" class="external-link uri">https://rse.shef.ac.uk/</a></p>
<p>If you are using a random number generator, take note of the seed
number.</p>
<p><strong><em>This is a lot of work. What are the benefits to
me?</em></strong></p>
<ol style="list-style-type: decimal"><li><p>Infinite undo’s: Control versions between active, live and
archived.</p></li>
<li><p>Branching and experimentation: Copy code or other technical
formulae and change to test hypotheses</p></li>
<li><p>Collaboration: Track changes, merge input.</p></li>
</ol><p><strong><em>These analysis pipelines can be saved as part of your
folder structure from lesson 1.</em></strong></p>
<div id="testimonial1" class="callout testimonial">
<div class="callout-square">
<i class="callout-icon" data-feather="heart"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Testimonial<a class="anchor" aria-label="anchor" href="#testimonial1"></a>
</h3>
<div class="callout-content">
<p><strong><em>Publishing these pipelines, either as part of your
publication, as a protocol or in a public repository such as OSF, Github
or similar improves your reproducibility, and provides others a greater
understanding of your work.</em></strong></p>
<p><a href="step3MethodStats.html#publishing-your-protocol">Step 3 -
Publishing Protocols link.</a></p>
</div>
</div>
</div>

<!-- Got any organisation information on publishing analysis pipelines? Do you suggest github etc? Do you have a licencing person? Include it below. -->
<div id="standard-operating-procedures" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="standard-operating-procedures" class="callout-inner">
<h3 class="callout-title">Standard Operating Procedures<a class="anchor" aria-label="anchor" href="#standard-operating-procedures"></a>
</h3>
<div class="callout-content">
<p>We talked about <a href="step4Doco.html#standard-operating-procedure">Standard Operating
Procedures</a> in Step 4 - Documentation. This is where a SOP is really
powerful - your pipeline can even be part of your SOP.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="version-control-and-tracking">Version Control and Tracking<a class="anchor" aria-label="anchor" href="#version-control-and-tracking"></a></h3>
<p>Let’s now consider tracking your versions of your analysis
pipeline.</p>
<p>You may be making changes to your analysis pipeline as you go</p>
<ul><li><p>How are you taking notes of these changes?</p></li>
<li><p>What version of software are you using?</p></li>
<li><p>Have you noted what version of the libraries you are using
are?</p></li>
<li><p>Have you noted the name, model and version number of any hardware
you may be using (for example, cameras, microscopes, MRI machines, IoT
sensors)?</p></li>
</ul><p>Version control is keeping track of each change you have made, so
that if you need to go back to a previous version of your analysis
pipeline, you can!</p>
<p>Think of version control as an ‘undo’ button.</p>
<div id="discussion5" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion5"></a>
</h3>
<div class="callout-content">
<p>We have already learnt some skills in <a href="step1Folders.html#file-naming-conventions">step 1 - Organising
your files and folders</a> to track versions of files. We can use the
same principles here. Your pipelines can be labelled V1.0, V1.1 etc.</p>
<p>You can use the first number as a major step in versions (for
example, Draft v1.0 to Reviewed v2.0), and the second number as a minor
step in versions to indicate a change has occured (from v1.1 to
v1.2).</p>
</div>
</div>
</div>
<div class="section level4">
<h4 id="using-computational-tools">Using computational tools<a class="anchor" aria-label="anchor" href="#using-computational-tools"></a></h4>
<p>If you are using R or Python, your next best friend is Git.</p>
<p>Git is a program to track changes in your code. You may have heard of
Github or Gitlab - these are cloud platforms that use the Git program to
track your code as you write it.</p>
<p>Sharing your analysis pipeline then becomes easy. You can even write
reports with both plain text, R or Python code and the results in graphs
in platforms such as Jupyter.</p>
<div id="to-learn-more-about-git" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="to-learn-more-about-git" class="callout-inner">
<h3 class="callout-title">To learn more about Git<a class="anchor" aria-label="anchor" href="#to-learn-more-about-git"></a>
</h3>
<div class="callout-content">
<p><a href="https://www.britishecologicalsociety.org/wp-content/uploads/2017/12/guide-to-reproducible-code.pdf" class="external-link">The
British Ecological Society</a> has a great Git tutorial under ‘Version
Control’.</p>
<p><a href="https://docs.github.com/en/get-started/start-your-journey/hello-world" class="external-link">Start
your journey in GitHub</a></p>
<p>The Carpentries has a <a href="https://swcarpentry.github.io/git-novice/" class="external-link">Software Carpentry -
Version Control with Git</a> lesson you can follow.</p>
</div>
</div>
</div>
<p>Retaining a copy of your raw data prior to any cleaning or analysis
is also useful to version control.</p>
</div>
</div>
<div class="section level3">
<h3 id="containers">Containers<a class="anchor" aria-label="anchor" href="#containers"></a></h3>
<p>You may even want to try <a href="https://carpentries-incubator.github.io/docker-introduction/" class="external-link">Containers</a>
to publish your workflows. Think about Containers like a machine with
all the instructions and installations inside - you can pass this box to
others. They can put data into the machine, and processed data comes out
the other side, without needing to pull apart and put the box
together.</p>
<p>Containers also build automation into our workflows - we’ll talk more
about automation in our next lesson.</p>
</div>
<div class="section level3">
<h3 id="using-machine-learning">Using Machine Learning?<a class="anchor" aria-label="anchor" href="#using-machine-learning"></a></h3>
<p>The following paper may be useful to learn about ML platforms and
reproducibility.</p>
<p><a href="https://10.1109/eScience.2019.00017" class="external-link">R. Isdahl and O. E.
Gundersen, “Out-of-the-Box Reproducibility: A Survey of Machine Learning
Platforms,” 2019 15th International Conference on eScience (eScience),
San Diego, CA, USA, 2019, pp. 86-95, doi:
10.1109/eScience.2019.00017.</a></p>
</div>
</div>
<div class="section level1">
<h1 id="what-is-your-next-step">What is your next step?<a class="anchor" aria-label="anchor" href="#what-is-your-next-step"></a></h1>
<div class="tabs">
<nav><div id="nav-tab-1" class="nav nav-tabs" role="tablist">
<button class="nav-link active" id="nav-tab-1-1" data-bs-toggle="tab" data-bs-target="#nav-tabpanel-1-1" type="button" role="tab" aria-controls="nav-tabpanel-1-1" aria-selected="true">
  <h3 class="tab-header" id="nav-tab-heading-1-1">
  Beginner
  </h3>
</button>
<button class="nav-link" id="nav-tab-1-2" data-bs-toggle="tab" data-bs-target="#nav-tabpanel-1-2" type="button" role="tab" aria-controls="nav-tabpanel-1-2" aria-selected="false">
  <h3 class="tab-header" id="nav-tab-heading-1-2">
  Advanced
  </h3>
</button>
</div>
</nav><div id="nav-tabContent-1" class="tab-content">
<div id="nav-tabpanel-1-1" class="tab-pane show active" aria-labelledby="nav-tab-1-1" role="tabpanel">
<p>A great place to start is:</p>
<p>Save your analysis pipeline and store it safely in your organised
folders.</p>
</div>
<div id="nav-tabpanel-1-2" class="tab-pane" aria-labelledby="nav-tab-1-2" role="tabpanel">
<p>Your next move can be:</p>
<p>Ensure your data is well described (As per Step 2).</p>
<p>Check that it is clear which of your datasets pair with your Analysis
pipelines and in what order.</p>
<p>Publish your protocols and code.</p>
<ul><li><p>Ensure your data is well described (As per Step 2).</p></li>
<li><p>Check that it is clear which of your datasets pair with your
Analysis pipelines and in what order.</p></li>
<li><p>Publish your protocols and code.</p></li>
</ul></div>
</div>
</div>
<div id="resources" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="resources" class="callout-inner">
<h3 class="callout-title">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h3>
<div class="callout-content">
<p><a href="https://dmeg.cessda.eu/Data-Management-Expert-Guide/3.-Process/Data-authenticity" class="external-link">Data
authenticity</a></p>
<p><a href="https://carpentries-lab.github.io/good-enough-practices/06-track_changes.html" class="external-link">Tracking
Changes in Research</a></p>
<p><a href="https://osf.io/p2bdq/" class="external-link">Reproducibility in Excel</a></p>
<p>ADACS-Australia/good-code-etiquette. Manodeep Sinha, Paul Hancock,
Rebecca Lange (2019, October 18). GitHub. Retrieved on 2024-04-17 from
<a href="https://github.com/ADACS-Australia/good-code-etiquette/tree/master" class="external-link uri">https://github.com/ADACS-Australia/good-code-etiquette/tree/master</a>
licenced as Creative Commons Attribution-ShareAlike 4.0 International
License.</p>
<p>R-Pkgs Hadley Wickham and Jennifer Bryan (2024) ‘13 Testing basics’
Retrieved on 2024-04-17 <a href="https://r-pkgs.org/testing-basics.html" class="external-link uri">https://r-pkgs.org/testing-basics.html</a> licenced as CC
BY-NC-ND 4.0</p>
</div>
</div>
</div>
<div id="references" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="references" class="callout-inner">
<h3 class="callout-title">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div class="callout-content">
<p>OFS. Valerie Collins Alicia Hofelich Mohr Samantha T Porter(2023)
Reproducible research practices in Excel (yes, Excel) Retrieved on
2024-04-17 from <a href="https://osf.io/p2bdq/" class="external-link uri">https://osf.io/p2bdq/</a> licenced as CC-By Attribution 4.0
International</p>
<p>The Turing Way Community. (updated 2023) Writing robust code .
Github.com Retrieved April 11, 2024, from <a href="https://the-turing-way.netlify.app/reproducible-research/code-quality/code-quality-robust" class="external-link uri">https://the-turing-way.netlify.app/reproducible-research/code-quality/code-quality-robust</a>
licenced under CC-BY 4.0 licence</p>
<p>Ziemann, M., Eren, Y. &amp; El-Osta, A. Gene name errors are
widespread in the scientific literature. Genome Biol 17, 177 (2016). <a href="https://doi.org/10.1186/s13059-016-1044-7" class="external-link uri">https://doi.org/10.1186/s13059-016-1044-7</a> licenced as
CC-BY 4.0</p>
<p>Abeysooriya M, Soria M, Kasu MS, Ziemann M (2021) Gene name errors:
Lessons not learned. PLoS Comput Biol 17(7): e1008984. <a href="https://doi.org/10.1371/journal.pcbi.1008984" class="external-link uri">https://doi.org/10.1371/journal.pcbi.1008984</a> licenced as
CC-BY 4.0</p>
</div>
</div>
</div>
<div id="in-this-lesson-we-have-learnt" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div id="in-this-lesson-we-have-learnt" class="callout-inner">
<h3 class="callout-title">In this lesson, we have learnt:<a class="anchor" aria-label="anchor" href="#in-this-lesson-we-have-learnt"></a>
</h3>
<div class="callout-content">
<ul><li><p>Why we should be checking our data for validity and integrity
during processing</p></li>
<li><p>What we should be looking for when inspecting our data</p></li>
<li><p>Tools for inspecting data</p></li>
<li><p>Physical testing and hardware QA plays an important part
too</p></li>
<li><p>Our data may have a lineage of origin, and we need to be aware
and document the provenance of our data</p></li>
<li><p>It is important to track our analysis history (and how to record
it)</p></li>
<li><p>That version control is a way to track changes over time</p></li>
</ul><div class="section level4">
<h4 id="we-build-trust-in-our-knowledge-by">We build trust in our knowledge by:<a class="anchor" aria-label="anchor" href="#we-build-trust-in-our-knowledge-by"></a></h4>
<ul><li><p>We are testing our data for validity and integrity - and being
able to show how we are testing!</p></li>
<li><p>We are tracking our versions of software, hardware and analysis
pipelines, so that it is easier to reproduce later</p></li>
</ul></div>
<div class="section level4">
<h4 id="we-retain-knowledge-using">We retain knowledge using:<a class="anchor" aria-label="anchor" href="#we-retain-knowledge-using"></a></h4>
<ul><li><p>Tracking metadata about our data (for example, where did an image
come from? Who originally made the dataset?) for later
reference</p></li>
<li><p>Recording the different versions of software and hardware, so we
can go back to previous versions for reproducibility.</p></li>
<li><p>Tracking the different versions of our analysis
pipelines</p></li>
</ul></div>
<div class="section level4">
<h4 id="we-build-business-continuity-by">We build business continuity by:<a class="anchor" aria-label="anchor" href="#we-build-business-continuity-by"></a></h4>
<ul><li><p>Keeping versions of our analysis pipeline, so that it is clear
what the latest version of the analysis pipeline was</p></li>
<li><p>Recording the different version hardware and software</p></li>
<li><p>Sharing where the data originated from via its data lineage
information</p></li>
</ul></div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>



      </div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="step4Doco.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="step6Automate.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="step4Doco.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Step 4 -
        </a>
        <a class="chapter-link float-end" href="step6Automate.html" rel="next">
          Next: Step 6 - Automation... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/step5Testing.Rmd" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/carpentries/workbench-template-md/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries/workbench-template-md/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries/workbench-template-md/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:a.miotto@griffith.edu.au">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries.github.io/workbench-template-md/step5Testing.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "reproducible, reproducible research, knowledge trust, knowledge retention, data management, data, lesson, The Carpentries",
  "name": "Step 5 - Testing and Controls",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/workbench-template-md/step5Testing.html",
  "identifier": "https://carpentries.github.io/workbench-template-md/step5Testing.html",
  "dateCreated": "2024-04-01",
  "dateModified": "2024-06-11",
  "datePublished": "2024-06-11"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

